language: C

cache:
  timeout: 1800  # 30 mins
  directories:
    - Download
    - build

stages:
  # - build
  # - test
  - qa
  # - distribution

dist: bionic

addons:
  sonarcloud:
    organization: philips-software
    token:
      secure: "m//LX7PBF49WAJPgI3Wsracig+NG8lxvQ2ob/u28okOunQLm37KCsICTUKLAq9KadpRooDrQ4MwKhhMaqXoVGRFzRvQAOS0XrWGRs3vcNXhSx2IYSmjwPZkbjSD1SycqkwbwM3BMJntMTLYuTkOBYmoTocZYjrRJLyEHLgfsVubPwZcpG8IekJ2ivl9/pJGqSEPnuuqUA4xxFnsdQKncgOplmOwB9uvLiKPDDVul8zyE1/ksNzSXfdOU7CApC9aT+fnc++wltLtHACOiNxI4O8jRqYdk8xOdhRhwWpskcoUfR27hoRD1tqB9ghkDmxzmZ/VfEBUC1WvK8Wnom7oB+g8dQt259v96YdiGdZTgcqe/We/OpR/pT99MaU2X3m6wbwYo1uZzg6jUJmFmpmhG3wtPy/mpwHCRqq9iDwc4VP6dfMr8QMquizDnc/T8aIaXmUhRy1rXjd2GZIU9diszcGx9zPQcuL0IlMCwNh89YXoa1THUWPWa+mmO3Lzc58DHi+jVafWAXTcHX51/S+O8vHwHHuCL4bC0KrNw+ChekZE9fBIX/9stLhZHJWKnCqc8o3p4UwhFCUOAc5wLiM0omg898HQxaTNQ4aC5CjrSewhB8put6dnBjT1qkrgr3A9Tv/AHJJs2G0xSOFvn82NF/U4f8nrlzp5wgX0qEOJtI3w="


before_install: ci/bin/travis.sh before_install

jobs:
  include:
    # - stage: build
    #   os: linux
    #   script: ./ci/bin/travis.sh build
    # - stage: test
    #   os: linux
    #   script: ./ci/bin/travis.sh test
    - stage: qa
      os: linux
      script:
        # - ./ci/bin/travis.sh qa
        - sonar-scanner
    # - stage: distribution
    #   os: linux
    #   script: ./ci/bin/travis.sh dist
    # - stage: build
    #   os: windows
    #   env: HDF5_ROOT=./Download/hdf5
    #   script: ./ci/bin/travis.sh build
    # - stage: test
    #   os: windows
    #   env: HDF5_ROOT=./Download/hdf5
    #   script: ./ci/bin/travis.sh test
    # - stage: distribution
    #   os: windows
    #   env: HDF5_ROOT=./Download/hdf5
    #   script: ./ci/bin/travis.sh dist
